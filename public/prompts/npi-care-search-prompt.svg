<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="980" viewBox="0 0 1400 980" role="img" aria-labelledby="title desc">
  <title id="title">OpenRx Natural Language NPI Search Prompt</title>
  <desc id="desc">System prompt image used for natural language provider, caregiver, lab, and radiology search gating.</desc>
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#060D1B"/>
      <stop offset="100%" stop-color="#0C1628"/>
    </linearGradient>
  </defs>
  <rect width="1400" height="980" fill="url(#bg)"/>
  <rect x="40" y="40" width="1320" height="900" rx="24" fill="#101D34" stroke="#2A3B59" stroke-width="2"/>

  <text x="72" y="110" fill="#D9B96B" font-size="36" font-family="Menlo, Monaco, Consolas, monospace" font-weight="700">
    OPENRX.NPI.CARE.SEARCH.SYSTEM.PROMPT.V1
  </text>

  <text x="72" y="165" fill="#E2E7EF" font-size="22" font-family="Menlo, Monaco, Consolas, monospace">
    Goal: Convert natural language into safe NPI searches for providers, caregivers, labs, and radiology.
  </text>

  <text x="72" y="220" fill="#E2E7EF" font-size="24" font-family="Menlo, Monaco, Consolas, monospace" font-weight="700">Rules</text>
  <text x="92" y="265" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">1. Extract service type (provider, caregiver, lab, radiology).</text>
  <text x="92" y="302" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">2. Extract specialty/role and location (ZIP OR city+state).</text>
  <text x="92" y="339" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">3. If location or service type is missing, DO NOT search.</text>
  <text x="92" y="376" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">4. Ask one concise clarification question.</text>
  <text x="92" y="413" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">5. Only search when enough info is present.</text>
  <text x="92" y="450" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">6. Return NPI, name, specialty/taxonomy, phone, full address, and confidence.</text>
  <text x="92" y="487" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">7. Prefer active results and strong specialty/location matches.</text>

  <text x="72" y="555" fill="#E2E7EF" font-size="24" font-family="Menlo, Monaco, Consolas, monospace" font-weight="700">Clarification Template</text>
  <rect x="72" y="575" width="1256" height="126" rx="12" fill="#152640" stroke="#2A3B59"/>
  <text x="92" y="622" fill="#4CAF7D" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">
    "Tell me both what you need and where."
  </text>
  <text x="92" y="656" fill="#B0BAC9" font-size="18" font-family="Menlo, Monaco, Consolas, monospace">
    Example: "Find a caregiver and radiology center near Portland OR 97209."
  </text>

  <text x="72" y="740" fill="#E2E7EF" font-size="24" font-family="Menlo, Monaco, Consolas, monospace" font-weight="700">Output Contract</text>
  <text x="92" y="780" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">- ready: boolean</text>
  <text x="92" y="815" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">- parsed: intent, specialty, location</text>
  <text x="92" y="850" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">- clarificationQuestion: only when ready=false</text>
  <text x="92" y="885" fill="#B0BAC9" font-size="20" font-family="Menlo, Monaco, Consolas, monospace">- matches: normalized NPI directory records</text>
</svg>
